<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Memory Lane — Responses</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body{font-family:Inter, Arial; padding:24px; max-width:880px; margin:auto; background:#fffaf6}
    .card{background:white;padding:14px;border-radius:10px;box-shadow:0 6px 16px rgba(0,0,0,0.05); margin-bottom:12px}
    pre{white-space:pre-wrap}
    a{color:#6b46c1}
  </style>
</head>
<body>
  <h1>Stored Responses</h1>
  <div id="list">Loading…</div>
  <p><a href="/">← Back to onboarding</a></p>

  <script>
    async function load() {
      const el = document.getElementById('list');
      try {
        const r = await fetch('/api/responses');
        const j = await r.json();
        if (!j.responses || j.responses.length === 0) return el.innerText = 'No responses yet.';
        el.innerHTML = '';
        j.responses.forEach(item => {
          const d = document.createElement('div');
          d.className = 'card';
          d.innerHTML = `<div><strong>${item.name}</strong> • ${new Date(item.created_at).toLocaleString()}</div>
                         <div style="color:#666;font-size:13px">${item.city} • ${item.age_range}</div>
                         <pre>${JSON.stringify(item.answers, null, 2)}</pre>`;
          el.appendChild(d);
        });
      } catch (e) {
        el.innerText = 'Error loading responses — open console';
        console.error(e);
      }
    }
    load();
  </script>
</body>
</html>
